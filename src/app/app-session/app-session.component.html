<header>
  <h1>{{ id }}</h1>
  <button (click)="disconnect()">disconnect</button>
</header>
<main>
  <ul *ngIf="getParams() | async as params">
    <li *ngFor="let param of params" [ngSwitch]="param.type">

      <!-- integer -->
      <div *ngSwitchCase="'i'">
        <label [for]="param.path">{{param.path}}</label>
        <input type="number" [id]="param.path"
          [ngModel]="getValue(path) | async"
          (input)="onParamInput(param.path, $event.target.value)"
          (change)="onParamChange(param.path, $event.target.value)" />
      </div>

      <!-- float -->
      <div *ngSwitchCase="'f'">
        <label [for]="param.path">{{param.path}}</label>
        <input type="number" step="0.01" [id]="param.path"
          [ngModel]="getValue(path) | async"
          (input)="onParamInput(param.path, $event.target.value)"
          (change)="onParamChange(param.path, $event.target.value)" />
      </div>

      <!-- string -->
      <div *ngSwitchCase="'s'">
        <label [for]="param.path">{{param.path}}</label>
        <input type="text" [id]="param.path"
          [ngModel]="getValue(path) | async"
          (input)="onParamInput(param.path, $event.target.value)"
          (change)="onParamChange(param.path, $event.target.value)" />
      </div>

      <!-- bool -->
      <div *ngSwitchCase="'b'">
        <label [for]="param.path">{{param.path}}</label>
        <input type="checkbox" [id]="param.path"
          [ngModel]="getValue(path) | async"
          (input)="onParamInput(param.path, $event.target.checked)"
          (change)="onParamChange(param.path, $event.target.checked)" />
      </div>

      <ng-template ngSwitchDefault>Unknown param type ({{param.type}}) for param: {{param.path}}</ng-template>
    </li>
  </ul>
</main>

